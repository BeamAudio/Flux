\doxysection{custom\+\_\+filter.\+hpp}
\hypertarget{custom__filter_8hpp_source}{}\label{custom__filter_8hpp_source}\index{src/engine/custom\_filter.hpp@{src/engine/custom\_filter.hpp}}
\doxymbox{\hyperlink{custom__filter_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ CUSTOM\_FILTER\_HPP}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ CUSTOM\_FILTER\_HPP}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\doxymbox{\hyperlink{flux__plugin_8hpp}{flux\_plugin.hpp}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <cmath>}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{keyword}{namespace\ }\doxymbox{\hyperlink{namespace_beam}{Beam}}\ \{}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{class\ }\doxymbox{\hyperlink{class_beam_1_1_custom_filter_a9e80d7f6addabbb786d562eb45709fc7}{CustomFilter}}\ :\ \textcolor{keyword}{public}\ \doxymbox{\hyperlink{class_beam_1_1_flux_plugin_a9d91b56960799fdbfc4575e2fcfa6689}{FluxPlugin}}\ \{}
\DoxyCodeLine{00014\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00015\ \ \ \ \ \doxymbox{\hyperlink{class_beam_1_1_custom_filter_a9e80d7f6addabbb786d562eb45709fc7}{CustomFilter}}(\textcolor{keywordtype}{int}\ bufferSize,\ \textcolor{keywordtype}{float}\ sampleRate)\ }
\DoxyCodeLine{00016\ \ \ \ \ \ \ \ \ :\ \doxymbox{\hyperlink{class_beam_1_1_flux_plugin_a9d91b56960799fdbfc4575e2fcfa6689}{FluxPlugin}}(\textcolor{stringliteral}{"{}User\ Filter"{}},\ bufferSize,\ sampleRate)\ }
\DoxyCodeLine{00017\ \ \ \ \ \{}
\DoxyCodeLine{00018\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 1.\ Define\ Parameters\ (Automatic\ GUI)}}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{class_beam_1_1_flux_plugin_a1768cc84018f8de19bcbf781e9b7ac3f}{addParam}}(\textcolor{stringliteral}{"{}Cutoff"{}},\ 0.0f,\ 1.0f,\ 0.5f);}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{class_beam_1_1_flux_plugin_a1768cc84018f8de19bcbf781e9b7ac3f}{addParam}}(\textcolor{stringliteral}{"{}Reso"{}},\ 0.0f,\ 0.95f,\ 0.0f);}
\DoxyCodeLine{00021\ \ \ \ \ \}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{class_beam_1_1_custom_filter_ae561b7a4fb99126dda6d9adb7c12c80a}{processBlock}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{float}*\ input,\ \textcolor{keywordtype}{float}*\ output,\ \textcolor{keywordtype}{int}\ totalSamples)\textcolor{keyword}{\ override\ }\{}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 2.\ Read\ Parameters}}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ cutoff\ =\ \doxymbox{\hyperlink{class_beam_1_1_flux_plugin_a1b292b033caaaf9ec67154dfee2e577b}{getParam}}(\textcolor{stringliteral}{"{}Cutoff"{}});}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ resonance\ =\ \doxymbox{\hyperlink{class_beam_1_1_flux_plugin_a1b292b033caaaf9ec67154dfee2e577b}{getParam}}(\textcolor{stringliteral}{"{}Reso"{}});}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 3.\ DSP\ Kernel}}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ totalSamples;\ ++i)\ \{}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Simple\ low-\/pass\ smoothing}}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{class_beam_1_1_custom_filter_a1c8531ae8764996a5c95bffa5f2f2c47}{m\_z1}}\ =\ \doxymbox{\hyperlink{class_beam_1_1_custom_filter_a1c8531ae8764996a5c95bffa5f2f2c47}{m\_z1}}\ +\ cutoff\ *\ (input[i]\ -\/\ \doxymbox{\hyperlink{class_beam_1_1_custom_filter_a1c8531ae8764996a5c95bffa5f2f2c47}{m\_z1}});}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Add\ some\ resonance\ feedback\ (simplified)}}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ val\ =\ \doxymbox{\hyperlink{class_beam_1_1_custom_filter_a1c8531ae8764996a5c95bffa5f2f2c47}{m\_z1}}\ +\ (\doxymbox{\hyperlink{class_beam_1_1_custom_filter_a1c8531ae8764996a5c95bffa5f2f2c47}{m\_z1}}\ -\/\ \doxymbox{\hyperlink{class_beam_1_1_custom_filter_a1fd2bc925fa36ca245925a4bd187d6c1}{m\_lastOut}})\ *\ resonance;}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ output[i]\ =\ val;}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{class_beam_1_1_custom_filter_a1fd2bc925fa36ca245925a4bd187d6c1}{m\_lastOut}}\ =\ val;}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00039\ \ \ \ \ \}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordtype}{float}\ \doxymbox{\hyperlink{class_beam_1_1_custom_filter_a1c8531ae8764996a5c95bffa5f2f2c47}{m\_z1}}\ =\ 0.0f;}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keywordtype}{float}\ \doxymbox{\hyperlink{class_beam_1_1_custom_filter_a1fd2bc925fa36ca245925a4bd187d6c1}{m\_lastOut}}\ =\ 0.0f;}
\DoxyCodeLine{00044\ \};}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \}\ \textcolor{comment}{//\ namespace\ Beam}}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ CUSTOM\_FILTER\_HPP}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ }

\end{DoxyCode}
